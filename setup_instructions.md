# CSDS 440 Group Repository Template

This repository is what all CSDS 440 groups will start with.

Once you have finished this tutorial feel free to replace this file with a README per the assignment descriptions.

Authors: Robbie Dozier and Kennan LeJune

## Contents

### `.gitignore` File

The `.gitignore` file is a good way to make sure you don't accidentally commit files that shouldn't be on GitHub.

### `notebooks/` folder

The `notebooks` folder is where you can store your Jupyter notebooks. Jupyter is a great tool for making project
writeups and reports, as well as testing code on the fly.

### `src` and `test`

All of your source code should be in `src`. **Failing to do this can result in a grading penalty.**

`test` is where you can write unit tests and other testing code.

### Environment Configuration

We have included a `pyproject.toml`, which serves as a dependency declaration file for `poetry` respectively.
If you've used `pip` with `requirements.txt`, this is similar, but adds some improveemnts.

**Do not edit this file!** This file defines the complete python environment for this class,
and also lists the libraries that are installed and you are allowed to use. **You are not permitted to use any other libraries in your assignments.**

## Setup Tutorial

This is a tutorial for cloning your repository and setting your coding environment up. The entire process should take
less than 60 minutes.

### Prerequisites

Before starting, ensure you have the following:

- A GitHub account linked to `cwru-courses`
- a package manager
  - on macOS, use [Homebrew](https://brew.sh/)
  - on Windows, use [Chocolatey](https://chocolatey.org/)
  - on linux use `apt` or `yum` or whatever you prefer, you probably already know what to do
- Python 3 and Git installed on your computer.
  - on macOS, do `brew install python3` and `brew install git`
  - on Windows, do `choco install python` and `choco install git`
  - If all else fails, use the installer from [the python website](https://www.python.org/downloads/release/python-397/)
- Knowledge of basic bash commands (`ls`, `cd`, etc.)

### Part 0: Installing PyCharm

_This is optional, but highly recommended._ You may use any IDE you like, but it will be assumed for the rest of this
tutorial that you are using PyCharm.

1. Go to the PyCharm [webpage.](https://www.jetbrains.com/pycharm/)
2. You may either download the Community Edition of PyCharm for free, or you can verify your status as a student and get
   all JetBrains professional products for free, including PyCharm professional.
3. Install PyCharm.

### Part 1: Setting up GitHub Credentials, Cloning Repository

CWRU uses SSO (Single sign-on) for Github credentials.

1. In your PyCharm Preferences, go to _Version Control_ â†’ _GitHub_.
2. Click the plus "+" button and select _Log In with Token..._ (If you already have a GitHub token linked to your
   account, you do not need a new one. Skip to step 7.)
3. Click _Generate_. This will open a web browser and possibly prompt you to log into GitHub.
4. After logging in, click _Generate Token_ at the bottom of the page.
5. You will see a message saying `Make sure to copy your personal access token now. You wonâ€™t be able to see it again!`.
   Click on the clipboard icon to copy the token or select and copy it by hand. **Do not close the page.**
6. Go back to PyCharm and paste the token into the _Token_ field. Click _Add Account_.

_You have now enabled GitHub with PyCharm, and you can make commits and pull/push directly from PyCharm._

Now we need to enable SSO (either follow steps 7-10 or
use [this guide:](https://docs.github.com/en/github/authenticating-to-github/authenticating-with-saml-single-sign-on/authorizing-a-personal-access-token-for-use-with-saml-single-sign-on)

7. Go back to the GitHub page, and click the "Enable SSO" button next to your token.
8. Click _Authorize_.
9. Click _Continue_ and sign in with your Case ID.
10. You should get a message saying that the token is now authorized with SSO. Click _Continue_.

_Now this token is authorized to push/pull from CWRU-managed repositories._

Next, we must create SSH keys. (You may skip this part if you don't mind entering in your login credentials every time
you want to push or pull, or if you've already created SSH keys and added them to your GitHub account.)

11. [Check your computer to see if you already have an SSH key pair.](https://www.techrepublic.com/article/how-to-view-your-ssh-keys-in-linux-macos-and-windows/)
12. If you do not have an SSH key
    pair, [create one.](https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)
13. Now that you have an SSH key,
    follow [these steps](https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account)
    to add the public key to your GitHub account.
    **Make sure you copy and paste the PUBLIC key, NEVER share your PRIVATE key!**
14. Once you SSH key has been
    added, [authorize it with SSO.](https://docs.github.com/en/github/authenticating-to-github/authenticating-with-saml-single-sign-on/authorizing-an-ssh-key-for-use-with-saml-single-sign-on)

Finally, we can clone our repository.

15. Go to the github page for your group's repository, located at
    `https://github.com/cwru-all/CSDS440-s21-[your group number]`.
16. Using your preferred method (your IDE, the GitHub CLI, etc.), clone the repository. If you followed all the steps
    correctly so far, you should get no errors, and you should not be asked to provide your GitHub credentials. Just
    make sure you use SSH to clone the repository. If you've never done that before, it's easy:
    1. Click _Code_ â†’ _SSH_ and copy the text in the box (starting with `git@github.com...`)
    2. Go into a terminal (git terminal if you are on Windows) and navigate to the directory where you want the repo to
       be. Type `git clone ` and then paste. Hit enter.
17. You should now have a version of this repository on your computer! Yay! ðŸŽ‰
18. To test that everything is working properly, open up the repository on your IDE. (In PyCharm, simply _Open..._ and
    open the repo folder.)
19. Create a text file and try to commit and push it. If you've never used git before or you need a refresher,
    [this](https://rogerdudler.github.io/git-guide/) is a good tutorial. **DO NOT wait until your first project is due
    to learn how to use git!**
20. Lastly, let's create our data folder. Download and unzip the `440data` directory from canvas and move it to your
    repository root. Note that the `440data/` directory will be ignored by git, but that's okay because committing
    datasets and other non-source files is usually bad practice.

### Part 3: Setting Up Your Poetry Environment

We have provided environment files for installing using `poetry`.
It's a great tool to make managing dependencies and packages easy.
If you've used `pip` or `virtualenv` before, this should feel very similar.

**We strongly recommend `poetry` and will use this in our instructions.**

#### What is a virtual environment and why do I need one?

You've probably experienced the frustration of needing different versions of different
packages/libraries for each coding project you do. Virtual environments fix this
problem by providing you with a fresh copy of Python and all the
libraries you need for a _single project_.

`poetry` will handle all of this for you, so you shouldn't need to think about it at all.

#### Configuring `poetry` Environment

As mentioned previously, we've provided a `pyproject.toml` to handle environment configuration.

**You need to install `python` before this. If you have not done this, refer back to the [prerequisites](#Prerequisites).**

1. Install `python` - the newest version you can find, probably 3.9. Ensure that you can run `python --version` or `python3 --version` in a terminal or command prompt.
2. Once python is installed, install poetry (see docs here: https://python-poetry.org/docs/master/#installation). Be sure to follow any instructions that are printed once the installer is complete.

   - For macOS or linux, run:

     ```bash
     curl -sSL https://install.python-poetry.org | python3 -
     ```

   - For Windows, run:

     ```powershell
     (Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | py -
     ```
     Note: If you have installed Python through the Microsoft Store, replace `py` with `python` in the command above.

3. Once poetry is installed, verify that you can run `poetry --version`
4. Navigate to your project directory and dependencies with `poetry install`.
5. Run `poetry shell` to "activate" this environment, or prefix commands with `poetry run`.
   - For example: `poetry run python3 main.py` will run `python3 main.py` in poetry's managed environment.
   - Similarly, this is equivalent to using `poetry shell` followed by `python3 main.py`
6. Install the [pycharm poetry plugin](https://plugins.jetbrains.com/plugin/14307-poetry). This will allow you to configure this environment as a python interpreter in PyCharm settings (see plugin page for details).

### Part 4: Celebrate! ðŸŽ‰

You're all set! That wasn't so hard, was it? ðŸ¥³
